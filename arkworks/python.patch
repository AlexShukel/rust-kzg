From 2c3dbbd6791389c760f0a3b073d37b38ec37807f Mon Sep 17 00:00:00 2001
From: povilassl <slivinskas.povilas@gmail.com>
Date: Sun, 24 Sep 2023 17:50:56 +0300
Subject: [PATCH] python patch

---
 bindings/python/Makefile | 9 +++------
 bindings/python/setup.py | 6 +++---
 2 files changed, 6 insertions(+), 9 deletions(-)

diff --git a/bindings/python/Makefile b/bindings/python/Makefile
index c6bd222..1d48e44 100644
--- a/bindings/python/Makefile
+++ b/bindings/python/Makefile
@@ -1,11 +1,8 @@
 .PHONY: all
-all: install test
-
-../../src/c_kzg_4844.o:
-	make -C../../src c_kzg_4844.o
-
+ all: install test
+
 .PHONY: install
-install: setup.py ckzg.c ../../src/c_kzg_4844.o
+ install: setup.py ckzg.c
 	python3 setup.py install
 
 .PHONY: test
diff --git a/bindings/python/setup.py b/bindings/python/setup.py
index bf969cb..36d638c 100644
--- a/bindings/python/setup.py
+++ b/bindings/python/setup.py
@@ -8,11 +8,11 @@ def main():
         ext_modules=[
             Extension(
                 "ckzg",
-                sources=["ckzg.c", "../../src/c_kzg_4844.c"],
+                sources=["ckzg.c"],
                 include_dirs=["../../inc", "../../src"],
                 define_macros=[("FIELD_ELEMENTS_PER_BLOB", "4096")],
-                library_dirs=["../../lib"],
-                libraries=["blst"])])
+                library_dirs=["../../lib", "../../../../target/release"],
+                libraries=[":rust_kzg_arkworks.a"])])
 
 if __name__ == "__main__":
     main()
-- 
2.37.0.windows.1

