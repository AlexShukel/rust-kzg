From ed81f88f25548e15543df92905e72ab17726b21e Mon Sep 17 00:00:00 2001
From: ProgrammingBen <benas.nikitinas@mif.stud.vu.lt>
Date: Sun, 24 Sep 2023 18:31:10 +0300
Subject: [PATCH] update linking

---
 bindings/go/main.go | 13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

diff --git a/bindings/go/main.go b/bindings/go/main.go
index 518d58c..10e6ab3 100644
--- a/bindings/go/main.go
+++ b/bindings/go/main.go
@@ -5,7 +5,15 @@ package ckzg4844
 // #ifndef FIELD_ELEMENTS_PER_BLOB
 // #define FIELD_ELEMENTS_PER_BLOB 4096
 // #endif
-// #include "c_kzg_4844.c"
+// #ifndef BYTES_PER_G1
+// #define BYTES_PER_G1 48
+// #endif
+// #ifndef BYTES_PER_G2
+// #define BYTES_PER_G2 96
+// #endif
+// #include <stdlib.h>
+// #include "c_kzg_4844.h"
+// #cgo LDFLAGS: -L${SRCDIR}/../../../../target/release -l:rust_kzg_arkworks.a -lm
 import "C"
 
 import (
@@ -14,9 +22,6 @@ import (
 	"fmt"
 	"strings"
 	"unsafe"
-
-	// So its functions are available during compilation.
-	_ "github.com/supranational/arkworks/bindings/go"
 )
 
 const (
-- 
2.34.1

